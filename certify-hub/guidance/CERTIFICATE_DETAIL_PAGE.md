# Certificate Detail Page

## 概述

新增了证书详情页面功能，允许用户查看单个证书的详细信息，包括PDF预览和相关元数据。该页面对所有用户开放，无需登录即可查看。

## 功能特性

### 1. 证书详情页面 (`/certificates/[id]`)

- **公开访问**: 所有人都可以查看证书详情，无需登录或权限验证
- **PDF预览**: 在页面右侧显示证书的PDF文件
- **证书信息**: 显示证书的基本信息，包括：
  - 收件人邮箱
  - 颁发日期
  - 证书密钥
  - 颁发组织
  - 模板信息
  - 证书数据（元数据）
- **状态显示**: 显示证书的当前状态（活跃、已撤销、已过期）
- **操作按钮**: 
  - 下载PDF证书
  - 查看公开证书页面

### 2. 改进的加载状态

- **明确的加载提示**: 显示"Loading Certificate Details"和进度指示器
- **统一的页面布局**: 加载状态保持与最终页面相同的布局结构
- **用户友好的提示**: 提供清晰的加载信息，让用户知道正在处理什么

### 3. 集成到证书列表页面

- 在证书列表页面的"View"按钮现在会导向新的详情页面
- 保持了原有的公开验证链接功能

## 技术实现

### 页面结构

```
/certificates/[id]/page.tsx
```

### 主要组件

1. **证书信息卡片**: 显示所有证书相关的详细信息
2. **PDF预览区域**: 使用iframe嵌入PDF文件
3. **操作按钮**: 提供下载和查看公开页面的功能
4. **加载状态组件**: 提供清晰的加载反馈

### 数据获取

- 从Supabase获取证书详情（无需权限验证）
- 获取关联的模板信息
- 获取颁发组织信息
- 支持错误处理和加载状态

### 响应式设计

- 使用CSS Grid布局
- 在移动设备上自动调整为单列布局
- 适配不同屏幕尺寸

## 使用方法

1. 在证书列表页面点击"View"按钮
2. 系统会打开新的详情页面
3. 可以查看证书的PDF预览和所有相关信息
4. 可以下载PDF或查看公开验证页面

## 安全特性

- **公开访问**: 证书详情页面对所有用户开放
- **数据验证**: 验证证书ID的有效性
- **错误处理**: 完整的错误处理和用户反馈
- **无权限要求**: 无需登录即可查看证书详情

## 用户体验改进

### 加载状态优化

- **明确的加载指示**: 使用大型进度指示器和清晰的文字说明
- **保持布局一致性**: 加载状态与最终页面使用相同的布局结构
- **用户反馈**: 提供详细的加载信息，让用户了解当前状态

### 错误处理

- **友好的错误信息**: 提供清晰的错误提示
- **返回导航**: 在错误状态下提供返回按钮
- **统一的错误页面布局**: 错误页面与加载页面保持一致的布局

## 未来改进

- 添加证书编辑功能（仅对颁发组织开放）
- 支持批量操作
- 添加证书历史记录
- 支持证书撤销功能
- 添加证书分享功能
- 支持证书评论和反馈 